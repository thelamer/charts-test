groups:
  - name: Configuration
    description: Kasm Workspaces configuration
  - name: Storage
    description: Configure storage for Kasm Workspaces
  - name: Networking
    description: Networking Configuration for Kasm Workspaces
  - name: Advanced DNS Settings
    description: Configure DNS settings
portals:
  admin:
    protocols:
      - "$kubernetes-resource_configmap_portal_protocol"
    host:
      - "$kubernetes-resource_configmap_portal_host"
    ports:
      - "$kubernetes-resource_configmap_portal_port"
questions:
  - variable: service
    group: "Networking and Services"
    label: "Configure Service(s)"
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: main
          label: "Main Service"
          description: "The Primary service on which the healthcheck runs, often the webUI"
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: main
                label: "Main Service Port Configuration"
                schema:
                  additional_attrs: true
                  type: dict
                  attrs:
                    - variable: port
                      label: "Port"
                      description: "This port exposes the container port on the service"
                      schema:
                        type: int
                        default: 10630
                        required: true
  - variable: persistence
    label: Kasm Workspaces Storage
    group: Storage
    schema:
      type: dict
      attrs:
        - variable: data
          label: Storage Volume
          schema:
            type: dict
            attrs:
              - variable: hostPath
                label: Host Path for the Kasm Workspaces Storage Volume
                schema:
                  type: hostpath
                  required: true
              - variable: mountPath
                label: Configuration Storage Mount Path
                description: Path where the volume will be mounted inside the pod
                schema:
                  type: path
                  hidden: true
                  editable: true
                  default: /opt
