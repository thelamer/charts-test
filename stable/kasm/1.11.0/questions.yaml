groups:
  - name: "Configuration"
    description: "Kasm Workspaces configuration"
  - name: "Storage"
    description: "Configure storage for Kasm Workspaces"
  - name: "Networking"
    description: "Networking Configuration for Kasm Workspaces"
  - name: "Advanced DNS Settings"
    description: "Configure DNS settings"

portals:
  setup:
    protocols:
      - "http"
    host:
      - "$node_ip"
    ports:
      - "$variable-admin"
    path: "/"

questions:
  - variable: admin
    label: "Web Port for Kasm Workspaces"
    schema:
    additional_attrs: true
    type: dict
    attrs:
      - variable: port
        label: "Port"
        description: "This port exposes the container port on the service"
        schema:
          type: int
          min: 8000
          max: 65535
          default: 10630
          required: true

  - variable: appVolumeMounts
    label: "Kasm Workspaces Storage"
    group: "Storage"
    schema:
      type: dict
      attrs:
        - variable: data
          label: "Storage Volume"
          schema:
            type: dict
            attrs:
              - variable: hostPath
                label: "Host Path for the Kasm Workspaces Storage Volume"
                schema:
                  type: hostpath
                  required: true
              - variable: mountPath
                label: "Configuration Storage Mount Path"
                description: "Path where the volume will be mounted inside the pod"
                schema:
                  type: path
                  hidden: true
                  editable: true
                  default: "/opt"
